# libpmg
A small C++ library for procedurally generated 2D dungeon maps

## Info
This is a small C++ library, that can produce procedurally generated 2D dungeon maps. All maps are std::vectors of Tile objects. Every Tile object has a 2D location, and a list of Tag object. The user can extend the Tag class in order to assign a Tag to a Tile.

First a 2D map is generated. Then some rooms are dug. Then those rooms get connected through corridors, generated using a combination of Dijkstra, Astar and BFS algorithms, selectable by the user.

## Dependencies
- Boost (tested with 1.65.1)

## Compile
```bash
cd libpmg/bin
cmake ..
make
```

## Example

Code:
```cpp
#include "libpmg.hpp"

using namespace libpmg;

int main(int argc, char **argv) {
    // Initialize the random manager
    RndManager::GetInstance().Init(std::rand());

    // Initialize the builder
    auto map {MapBuilder()

        // Setup the map
        .SetMapSize(100, 45)
            .SetMinRoomSize(4, 4)
            .SetMaxRoomSize(12, 12)
            .SetMaxRoomPlacementAttempts(10)
            .SetMaxRooms(10)
            .SetDefaultPathAlgorithm(PathAlgorithm::ASTAR_BFS_MIX)
            .SetDiagonalCorridors(true)

            // Initialize the map
            .InitMap()

            // Generate the features
            .GenerateRooms()
            .GenerateCorridors()
            .GenerateDoors()

            // Build the map
            .Build()};

    // Print a sample
    map->Print();

    return 0;
}

```
Output:
```bash
Room: X:16, Y:7, width:6, height:9
Room: X:74, Y:30, width:11, height:8
Room: X:6, Y:15, width:4, height:11
Room: X:77, Y:4, width:11, height:10
Room: X:65, Y:8, width:8, height:4
Room: X:8, Y:33, width:9, height:8
Room: X:59, Y:13, width:6, height:5
Room: X:27, Y:24, width:9, height:7
Room: X:88, Y:25, width:8, height:12
Room: X:54, Y:26, width:6, height:11
Seed:: 16807
Map:: 
################################################################............................########
################################################################.##########################.########
################################################################.############.............#.########
###############################################################..############+###########.#.########
###############################################################.#############...........#.#.########
###############.............................................................+...........#.#.########
##############..###############################################.#############...........#.#.########
#############..#......#########################################.#############...........#.#.########
############..##......#########################################.#........####...........#.#.########
###########..###......#########################################.#........####...........#.#.########
##########..####......#########################################.#........####...........#.#.########
#########..#####......#########################################..........+..#...........#.#.########
########..######.......#########################################+#####+####.#...........#.#.########
#######..#######........###################################......#.....####.#...........#.#.########
######..########......#..##################################......#.########.#############.#.########
######....######......##..#################################......#.########...............#.########
######....###############..################################......#.########################.......##
######....################..###############################......#..................#############.##
######....#################..##############################..######################.#############.##
######....+.......................................................................#.#############.##
######....###################..##########################..######################.#.#############.##
######....####################..########################..#######################.#.#############.##
######....#####################..######################..########################.#.#############.##
######....######################..####################..#########################.#.#############.##
######....#################.........#################..##########################.#.#############.##
######....#################.........################..###########################.#.####........#.##
###########################..........##############..#......#####################.#.####........#.##
#########################.+.........................##......#####################.#.####........#.##
#########################.#.........#..###############......+..........................+........#.##
####......................#.........##..##############......#####################+####.#........#.##
####.######################.........###..#############......##############...........#.#........#.##
####.#.............#####################..############......##############...........#.#........#.##
####.#.###########.######################..###########......##############...........#.#........#.##
####.#.#.........#.#######################..##########......##############...........#.#........#.##
####.#.#.........#.########################..#########......##############...........#.#........#.##
####.#.#.........#.#########################..########......##############...........#.#........#.##
####.#.+.........#.........................##........+......+............+...........#.#........#.##
####.###.........#########################..##############################...........#.###+######.##
####...#.........#.......................##..............................#############.#..........##
######.#.........#.#####################..##############################...............#.#.#########
######.#.........#.#...................##..............................#################.#.#########
######.#######+###.#.#################..##############################...................#.#########
######.......#.....#.##################..............................#####################.#########
############.#######.###############################################.......................#########
############.........###############################################################################
```
